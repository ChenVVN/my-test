{"version":3,"file":"auth.js","sources":["utils/auth.js"],"sourcesContent":["export const checkLogin = () => {\r\n  try {\r\n    // 先检查内存中的全局数据\r\n    if (getApp().globalData.userInfo) return true;\r\n\r\n    // 再检查本地存储\r\n    const cachedUser = uni.getStorageSync(\"userInfo\");\r\n    if (cachedUser && Date.now() < cachedUser.expires) {\r\n      getApp().globalData.userInfo = cachedUser;\r\n      return true;\r\n    }\r\n    return false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return getApp().globalData.userInfo || uni.getStorageSync(\"userInfo\");\r\n};\r\n"],"names":["uni"],"mappings":";;AAAY,MAAC,aAAa,MAAM;AAC9B,MAAI;AAEF,QAAI,OAAM,EAAG,WAAW;AAAU,aAAO;AAGzC,UAAM,aAAaA,cAAAA,MAAI,eAAe,UAAU;AAChD,QAAI,cAAc,KAAK,IAAG,IAAK,WAAW,SAAS;AACjD,eAAS,WAAW,WAAW;AAC/B,aAAO;AAAA,IACR;AACD,WAAO;AAAA,EACR,SAAQ,GAAG;AACV,WAAO;AAAA,EACR;AACH;AAEY,MAAC,iBAAiB,MAAM;AAClC,SAAO,OAAQ,EAAC,WAAW,YAAYA,cAAAA,MAAI,eAAe,UAAU;AACtE;;;"}